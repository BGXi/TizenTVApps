function GameSound(e,t){var n=this;this.infocus=!0,this.stopped=!1,this.file=e,this.soundobj=new Array,this.idx=0,this.num=t==undefined?1:t,this.loop=!1,t===0&&(this.loop=!0,this.num=1,this.stopped=!0);for(var r=0;r<this.num;r++)e.indexOf("audio.")===0?this.soundobj[r]=document.querySelector(e):this.soundobj[r]=new Audio(e);this.focus=function(){n.infocus=!0,n.loop&&!n.stopped&&n.play()},this.blur=function(){n.infocus=!1,n.loop&&!n.stopped&&n.pause()},window.addEventListener("focus",n.focus,!1),window.addEventListener("blur",n.blur,!1)}GameSound.prototype.play=function(){if(!this.infocus)return;this.stopped=!1;if(this.num===1)try{this.soundobj[this.idx].currentTime=0}catch(e){}this.soundobj[this.idx].play(),this.idx=(this.idx+1)%this.num},GameSound.prototype.pause=function(){this.loop&&!this.stopped&&this.soundobj[0].pause()},GameSound.prototype.stop=function(){this.loop&&(this.stopped=!0,this.soundobj[0].pause())},GameSound.prototype.volume=function(e){for(var t=0;t<this.num;t++)this.soundobj[t].volume=e}