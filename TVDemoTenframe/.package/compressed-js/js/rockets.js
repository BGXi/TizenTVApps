function Rockets(){"use strict";function s(){this.input=!1,this.fuel=0,this.currtarget=0,this.targets=new Array;for(var e=0;e<5;e++)this.targets[e]=Math.floor(Math.random()*30+1);this.target=function(){return this.currtarget<5?this.targets[this.currtarget]:-1}}function o(){u(),$("#rockets_page").hide(),$("#rockets_win_page").hide(),setTimeout(function(){$("#game_menu_border").hide(),$("#home_page").show()},0)}function u(){n&&clearTimeout(n),r&&clearTimeout(r),e.clear(),$("#rockets_status").removeClass("show"),$("#rockets_fuellight").removeClass("green"),$("#rockets_fuellight").removeClass("red"),$("#rockets_add4").removeClass("disable"),$("#rockets_add3").removeClass("disable"),$("#rockets_add2").removeClass("disable"),$("#rockets_add1").removeClass("disable"),$("#rockets_subtract4").addClass("disable"),$("#rockets_subtract3").addClass("disable"),$("#rockets_subtract2").addClass("disable"),$("#rockets_subtract1").addClass("disable"),$("#rocket_flame").removeClass("launch"),$("#rockets_rocket").removeClass("launch"),$("#rockets_smoke").removeClass("launch");var t;for(t=1;t<=30;t++)$("#drop"+t).hide()}function a(e){var n=i.target(),r=i.fuel,s=e+i.fuel,o;if(s>r)for(o=r+1;o<=s&&o<=30;o++)$("#drop"+o).show();else for(o=r;o>s&&o>=1;o--)$("#drop"+o).hide();s<0?i.fuel=0:s>30?i.fuel=30:i.fuel=s,$("#rockets_fuelguage").html(i.fuel.toLocaleString()),n==i.fuel?($("#rockets_fuellight").addClass("green"),$("#rockets_fuellight").removeClass("red")):i.fuel>n?($("#rockets_fuellight").removeClass("green"),$("#rockets_fuellight").addClass("red")):($("#rockets_fuellight").removeClass("green"),$("#rockets_fuellight").removeClass("red")),s>r?t.add.play():t.subtract.play(),i.fuel>n&&e>0&&t.overflow.play();for(o=1;o<=4;o++)i.fuel<o||n==i.fuel?$("#rockets_subtract"+o).addClass("disable"):$("#rockets_subtract"+o).removeClass("disable");for(o=1;o<=4;o++)i.fuel>30-o||n==i.fuel?$("#rockets_add"+o).addClass("disable"):$("#rockets_add"+o).removeClass("disable");n==i.fuel&&c()}function f(){var n=0;$("#rockets_msg2 b").html(n.toLocaleString()),u(),i=new s;for(var r=1;r<=5;r++){var n=i.targets[r-1];$("#rocketicon"+r).removeClass("highlight"),$("#rockets_mini"+r).html(n.toLocaleString())}$("#home_page").hide(),$("#rockets_win_page").hide(),$("#rockets_page").show(),$("#rockets_fueltarget").html(i.target().toLocaleString()),$("#rockets_fuelguage").html(i.fuel.toLocaleString()),e.begin(),t.start.play()}function l(){i.currtarget++,i.currtarget<5?(u(),i.fuel=0,$("#rockets_fueltarget").html(i.target().toLocaleString()),$("#rockets_fuelguage").html(i.fuel.toLocaleString())):(t.add.play(),$("#rockets_page").hide(),$("#rockets_win_page").show())}function c(){t.ignite.play(),setTimeout(function(){t.launch.play()},3e3);var e=i.currtarget+1;$("#rocketicon"+e).addClass("highlight"),$("#rockets_smoke").addClass("launch"),$("#rockets_msg2 b").html(e.toLocaleString()),$("#rockets_status").addClass("show"),n=setTimeout(function(){$("#rocket_flame").addClass("launch"),$("#rockets_rocket").addClass("launch")},3300),r=setTimeout(function(){l()},7e3)}function h(){var e="";$("#rockets_fueltank").empty();for(var t=1;t<=30;t++)e+='<div id="drop'+t+'" class="rockets_drop"></div>';$("#rockets_fueltank").html(e)}function p(){setTimeout(h,0),window.chrome&&window.chrome.i18n&&($("#rockets_msg1").html(chrome.i18n.getMessage("rockets_msg1")),$("#rockets_msg2").html(chrome.i18n.getMessage("rockets_msg2")),$("#rockets_msg3").html(chrome.i18n.getMessage("rockets_msg3")),$("#rockets_msg4").html(chrome.i18n.getMessage("rockets_msg4"))),t.subtract=new GameSound("audio/fueldel.ogg",1),t.add=new GameSound("audio/fueladd.ogg",1),t.overflow=new GameSound("audio/fullalarm.ogg",1),t.launch=new GameSound("audio/rocketlaunch.ogg",1),t.ignite=new GameSound("audio/rocketignite.ogg",1),t.start=new GameSound("audio/rocketstart.ogg",1),e=new Animation("rockets_msg1a","show",2600,"opacity");var n=e;n.next=new Animation("rockets_msg1b","show",2600,"opacity"),n=n.next,n.next=new Animation("rockets_msg1c","show",2600,"opacity"),n=n.next,n.next=new Animation("rockets_msg1d","show",2600,"opacity"),n=n.next,n.next=new Animation("rockets_msg1e","show",2600,"opacity"),$("#rockets_add4").click(function(){a(4)}),$("#rockets_add3").click(function(){a(3)}),$("#rockets_add2").click(function(){a(2)}),$("#rockets_add1").click(function(){a(1)}),$("#rockets_subtract4").click(function(){a(-4)}),$("#rockets_subtract3").click(function(){a(-3)}),$("#rockets_subtract2").click(function(){a(-2)}),$("#rockets_subtract1").click(function(){a(-1)}),$("#rockets_win_page").click(function(){o()})}var e=null,t={},n,r,i;this.close=o,this.start=f,p()}