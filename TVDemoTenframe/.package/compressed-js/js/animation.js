function Animation(e,t,n,r){var i=this;i.id=e,i.elem=document.getElementById(e),i.offclass=i.elem.className,i.onclass=i.offclass+" "+t,i.ontime=n,i.phase="off",r!=undefined&&(i.prop=r,i.elem.addEventListener("webkitTransitionEnd",function(e){e.propertyName===i.prop&&(i.phase==="starting"?(i.phase="on",i.timer=setTimeout(function(){i.phase="ending",i.elem.className=i.offclass},i.ontime)):i.phase==="ending"&&(i.phase="off",i.next&&i.next.begin&&i.next.begin()))},!1))}Animation.prototype.begin=function(){var e=this;e.phase="starting",setTimeout(function(){e.elem.className=e.onclass},0)},Animation.prototype.clear=function(){var e=this;e.timer&&clearTimeout(e.timer),e.phase="off",e.elem.className=e.offclass,e.next&&e.next.clear&&e.next.clear()}