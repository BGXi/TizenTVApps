define(["jquery"],function(e){return function(){"use strict";function o(){s.removeClass("slide"),s.off("click").one("click",u)}function u(){s.addClass("slide"),s.off("click").one("click",o)}function a(t){i=t,i.start(),e("#game_menu_border").show()}function f(){e(window).width()>e(window).height()?window.isrotated=!1:window.isrotated=!0}window.isrotated=!1;var t,n,r,i,s=e("#game_menu");window.chrome&&window.chrome.i18n&&(e("#home_pirates_text").html(chrome.i18n.getMessage("pirates_title")),e("#home_rockets_text").html(chrome.i18n.getMessage("rockets_title")),e("#home_bowling_text").html(chrome.i18n.getMessage("bowling_title")));var l=function(e){if(e.touches.length>1)return;var t=e.changedTouches[0],n="";switch(e.type){case"touchstart":n="mousedown";break;case"touchmove":n="mousemove";break;case"touchend":n="mouseup";break;default:return}var r=document.createEvent("MouseEvent");r.initMouseEvent(n,!0,!0,window,1,t.screenX,t.screenY,t.clientX,t.clientY,!1,!1,!1,!1,0,null),t.target.dispatchEvent(r)};window.ontouchstart=l,window.ontouchmove=l,window.ontouchend=l,t=new Pirates,e("#home_pirates").click(function(){a(t)}),n=new Rockets,e("#home_rockets").click(function(){a(n)}),r=new Bowling,e("#home_bowling").click(function(){a(r)}),e("#game_menu_new").click(function(e){e.stopPropagation(),o(),a(i)}),e("#game_menu_home").click(function(e){e.stopPropagation(),i.close(),i=null,setTimeout(o,0)}),o(),e(window).bind("resize",f),f()}})